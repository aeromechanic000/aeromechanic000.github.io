<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Security-Policy" content="
        default-src 'self' 'unsafe-inline' 'unsafe-eval' data: blob: https://cdnjs.cloudflare.com https://cdn.jsdelivr.net https://code.jquery.com https://unpkg.com https://d3js.org https://threejs.org https://cdn.plot.ly https://stackpath.bootstrapcdn.com https://maps.googleapis.com https://cdn.tailwindcss.com https://ajax.googleapis.com https://kit.fontawesome.com https://cdn.datatables.net https://maxcdn.bootstrapcdn.com https://code.highcharts.com https://tako-static-assets-production.s3.amazonaws.com https://www.youtube.com https://fonts.googleapis.com https://fonts.gstatic.com https://pfst.cf2.poecdn.net https://puc.poecdn.net https://i.imgur.com https://wikimedia.org https://*.icons8.com https://*.giphy.com https://picsum.photos https://images.unsplash.com https://text.pollinations.ai;
        connect-src 'self' https://text.pollinations.ai https://image.pollinations.ai;
        frame-src 'self' https://www.youtube.com https://trytako.com;
        child-src 'self'; manifest-src 'self'; worker-src 'self'; upgrade-insecure-requests; block-all-mixed-content;">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@aeromechanic</title>
    <link rel="icon" type="image/x-icon" href="icon.png">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            min-height: 100vh;
            overflow-x: hidden;
            overflow-y: auto;
            position: relative;
            color: white;
        }

        /* Image background (default) */
        .image-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -3;
            background-image: url('./background.png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        /* Video background */
        .video-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            object-fit: cover;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .video-background.loaded {
            opacity: 1;
        }

        /* Overlay to darken video and maintain readability */
        .video-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(8, 8, 11, 0.6);
            z-index: -1;
        }

        /* Background music */
        .background-music {
            position: fixed;
            top: -9999px;
            left: -9999px;
            opacity: 0;
            pointer-events: none;
        }

        /* CSS Variables for theming */
        :root {
            --presenceUsernameColor: #ffffff;
            --presenceStatusColor: rgba(255, 255, 255, 0.7);
            --presenceContainerBackground: rgba(255, 255, 255, 0.2);
            --presenceContainerBorder: 2px solid rgba(255, 255, 255, 0.1);
            --discordServerMembers: rgba(255, 255, 255, 0.6);
            --secondTabBackground: rgba(255, 255, 255, 0.2);
            --secondTabBorder: 2px solid rgba(255, 255, 255, 0.1);
            --discordMissingIcon: rgba(255, 255, 255, 0.25);
            --modernLayoutSeperator: rgba(255, 255, 255, 0.12);
            --modernLayoutSeperatorBorder: rgba(255, 255, 255, 0.12);
            --discordAvatarBorder: 2px solid rgba(255, 255, 255, 0.15);
            --badgeContainerBackground: rgba(255, 255, 255, 0.2);
            --badgeContainerBorder: 2px solid rgba(255, 255, 255, 0.04);
            --userBadge: 20.5px;
            --textColor: #ffffff;
            --textColorDarker: rgba(255, 255, 255, 0.5);
            --iconColor: #ffffff;
            --backgroundColor: #ffffff;
            --joinStatus: rgba(255, 255, 255, 0.65);
            --audioPlayerBar: rgba(255, 255, 255, 0.35);
            --avatarBorder: 2px solid rgba(255, 255, 255, 0.4);
            --containerColor: rgba(255, 255, 255, 0.13);
            --containerBlur: 3px;
            --containerRadius: 20px;
            --containerWidth: 45rem;
            --containerPadding: 40px 20px;
            --volumeBackgroundcolor: rgba(255, 255, 255, 0.13);
            --volumeBorder: 2px solid rgba(255, 255, 255, 0.117);
            --colorUsernameGlow: 0px 0px 16.5px #ffffff;
            --buttonBackground: rgba(255, 255, 255, 0.22);
            --buttonBorder: 2px solid rgba(255, 255, 255, 0.12);
            --buttonRadius: 12px;
            --buttonAlign: center;
            --buttonBackgroundHover: rgba(255, 255, 255, 0.32);
            --buttonBorderHover: 2px solid rgba(255, 255, 255, 0.25);
            --buttonUrlColor: rgba(255, 255, 255, 0.65);
            --profileViewsContainerBorder: 2px solid rgba(255, 255, 255, 0.104);
            --templatePreviewContainerBackground: rgba(255, 255, 255, 0.4);
            --platformTextColor: rgba(255, 255, 255, 0.4);
            --secondTabWidgetDescription: rgba(255, 255, 255, 0.6);
            --audioIconBackground: rgba(255, 255, 255, 0.2);
            --progessBarFull: rgba(255, 255, 255, 0.3);
            --progessBarPlaying: #ffffff;
            --controlButtonsOther: rgba(255, 255, 255, 0.5);
            --controlButtonPlaying: #ffffff;
            --controlTextColor: rgba(255, 255, 255, 0.7);
            --modernLayoutBottomLeftDivider: rgba(255, 255, 255, 0.14);
        }

        /* Click to enter overlay */
        .enter-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(8, 8, 11, 0.95);
            backdrop-filter: blur(10px);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            cursor: pointer;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }

        .enter-overlay.hidden {
            opacity: 0;
            visibility: hidden;
        }

        .enter-text {
            font-weight: 700;
            font-size: 30px;
            color: white;
            text-align: center;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        /* Page layout - MODIFIED: reduced to 75vh (3/4 of 100vh) */
        .page-container {
            min-height: 75vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 2vh 10px;
            gap: 3vh;
            justify-content: center;
        }

        /* Main container - MODIFIED: reduced to 26.25vh (3/4 of 35vh) */
        .main-container {
            background: var(--containerColor);
            backdrop-filter: blur(var(--containerBlur));
            border-radius: var(--containerRadius);
            padding: var(--containerPadding);
            width: var(--containerWidth);
            max-width: 90vw;
            border: var(--presenceContainerBorder);
            min-height: 26.25vh;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            position: relative;
        }

        /* Profile section */
        .profile-section {
            text-align: left;
            margin-bottom: 15px;
            position: relative;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .username-container {
            position: relative;
            display: inline-block;
            margin-bottom: 10px;
            overflow: visible;
        }

        .username {
            font-weight: 600;
            font-size: 45px;
            color: var(--presenceUsernameColor);
            text-shadow: 
                0 0 10px rgba(255, 255, 255, 0.8),
                0 0 20px rgba(255, 255, 255, 0.6),
                0 0 30px rgba(255, 255, 255, 0.4),
                0 0 40px rgba(255, 255, 255, 0.2);
            animation: glow 3s ease-in-out infinite alternate;
            position: relative;
            z-index: 2;
        }

        @keyframes glow {
            from {
                text-shadow: 
                    0 0 10px rgba(255, 255, 255, 0.8),
                    0 0 20px rgba(255, 255, 255, 0.6),
                    0 0 30px rgba(255, 255, 255, 0.4),
                    0 0 40px rgba(255, 255, 255, 0.2);
            }
            to {
                text-shadow: 
                    0 0 15px rgba(255, 255, 255, 1),
                    0 0 25px rgba(255, 255, 255, 0.8),
                    0 0 35px rgba(255, 255, 255, 0.6),
                    0 0 50px rgba(255, 255, 255, 0.4);
            }
        }

        /* Flying particles */
        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: radial-gradient(circle, rgba(255, 255, 255, 1) 0%, rgba(255, 255, 255, 0.8) 30%, rgba(255, 255, 255, 0) 70%);
            border-radius: 50%;
            pointer-events: none;
            z-index: 3;
            box-shadow: 0 0 8px rgba(255, 255, 255, 0.8);
        }

        .particle.large {
            width: 6px;
            height: 6px;
            background: radial-gradient(circle, rgba(255, 255, 255, 1) 0%, rgba(255, 255, 255, 0.9) 20%, rgba(255, 255, 255, 0.3) 50%, rgba(255, 255, 255, 0) 70%);
            box-shadow: 0 0 12px rgba(255, 255, 255, 1);
        }

        .particle.medium {
            width: 3px;
            height: 3px;
            box-shadow: 0 0 6px rgba(255, 255, 255, 0.6);
        }

        .particle.small {
            width: 2px;
            height: 2px;
            box-shadow: 0 0 4px rgba(255, 255, 255, 0.4);
        }

        /* Orbit animations */
        @keyframes orbit1 {
            0% { transform: rotate(0deg) translateX(100px) rotate(0deg); }
            100% { transform: rotate(360deg) translateX(100px) rotate(-360deg); }
        }

        @keyframes orbit2 {
            0% { transform: rotate(0deg) translateX(120px) rotate(0deg); }
            100% { transform: rotate(-360deg) translateX(120px) rotate(360deg); }
        }

        @keyframes orbit3 {
            0% { transform: rotate(0deg) translateX(80px) rotate(0deg); }
            100% { transform: rotate(360deg) translateX(80px) rotate(-360deg); }
        }

        @keyframes orbit4 {
            0% { transform: rotate(0deg) translateX(140px) rotate(0deg); }
            100% { transform: rotate(-360deg) translateX(140px) rotate(360deg); }
        }

        @keyframes orbit5 {
            0% { transform: rotate(0deg) translateX(90px) rotate(0deg); }
            100% { transform: rotate(360deg) translateX(90px) rotate(-360deg); }
        }

        @keyframes figure8 {
            0% { transform: rotate(0deg) translateX(60px) rotate(0deg) translateY(0px); }
            25% { transform: rotate(90deg) translateX(60px) rotate(-90deg) translateY(-30px); }
            50% { transform: rotate(180deg) translateX(60px) rotate(-180deg) translateY(0px); }
            75% { transform: rotate(270deg) translateX(60px) rotate(-270deg) translateY(30px); }
            100% { transform: rotate(360deg) translateX(60px) rotate(-360deg) translateY(0px); }
        }

        @keyframes spiral {
            0% { transform: rotate(0deg) translateX(40px) scale(0.5); opacity: 0.3; }
            50% { transform: rotate(180deg) translateX(100px) scale(1); opacity: 1; }
            100% { transform: rotate(360deg) translateX(40px) scale(0.5); opacity: 0.3; }
        }

        @keyframes zigzag {
            0% { transform: translateX(-80px) translateY(0px); }
            25% { transform: translateX(-40px) translateY(-20px); }
            50% { transform: translateX(0px) translateY(0px); }
            75% { transform: translateX(40px) translateY(20px); }
            100% { transform: translateX(80px) translateY(0px); }
        }

        /* Apply different animations to particles - MODIFIED: All durations doubled again for quarter speed */
        .particle.orbit1 { animation: orbit1 6s linear infinite; }        /* Was 3s, now 6s */
        .particle.orbit2 { animation: orbit2 8s linear infinite; }        /* Was 4s, now 8s */
        .particle.orbit3 { animation: orbit3 4.8s linear infinite; }      /* Was 2.4s, now 4.8s */
        .particle.orbit4 { animation: orbit4 10s linear infinite; }       /* Was 5s, now 10s */
        .particle.orbit5 { animation: orbit5 7.2s linear infinite; }      /* Was 3.6s, now 7.2s */
        .particle.figure8 { animation: figure8 12s linear infinite; }     /* Was 6s, now 12s */
        .particle.spiral { animation: spiral 8.8s linear infinite; }      /* Was 4.4s, now 8.8s */
        .particle.zigzag { animation: zigzag 11.2s ease-in-out infinite; } /* Was 5.6s, now 11.2s */

        .subtitle {
            font-weight: 570;
            font-size: 22px;
            color: var(--presenceStatusColor);
            position: relative;
            margin-bottom: 5px;
        }

        /* Discord section */
        .discord-section {
            margin: 0 0 0 0;
        }

        .discord-title {
            font-weight: 550;
            font-size: 20px;
            color: var(--textColor);
            margin-bottom: 8px;
        }

        .discord-description {
            font-weight: 300;
            font-size: 15px;
            color: var(--textColorDarker);
        }

        .discord-description a {
            color: var(--buttonUrlColor);
            text-decoration: none;
        }

        .discord-description a:hover {
            color: var(--textColor);
        }

        /* Social icons row - MODIFIED: flex container for social icons and controls */
        .social-icons-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin: 5px 0 5px 0;
        }

        /* Social icons - MODIFIED: removed margin */
        .social-icons {
            display: flex;
            gap: 18px;
        }

        .social-icon {
            width: 40px;
            height: 40px;
            background: var(--buttonBackground);
            border: var(--buttonBorder);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            text-decoration: none;
        }

        .social-icon:hover {
            background: var(--buttonBackgroundHover);
            border: var(--buttonBorderHover);
            transform: translateY(-2px);
        }

        .social-icon svg {
            width: 22px;
            height: 22px;
            fill: var(--iconColor);
        }

        /* Social controls - NEW: container for view counter and music button */
        .social-controls {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        /* View counter - MODIFIED: removed absolute positioning */
        .view-counter {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 550;
            font-size: 16px;
            color: var(--textColor);
        }

        .view-counter svg {
            width: 21px;
            height: 21px;
            fill: var(--iconColor);
        }

        /* Music control button - MODIFIED: removed absolute positioning */
        .music-control {
            width: 40px;
            height: 40px;
            background: var(--buttonBackground);
            border: var(--buttonBorder);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .music-control:hover {
            background: var(--buttonBackgroundHover);
            border: var(--buttonBorderHover);
            transform: translateY(-2px);
        }

        .music-control svg {
            width: 22px;
            height: 22px;
            fill: var(--iconColor);
        }

        /* QA Bot Container - MODIFIED: reduced to 37.5vh (3/4 of 50vh) */
        .qa-bot-container {
            background: var(--containerColor);
            backdrop-filter: blur(var(--containerBlur));
            border-radius: var(--containerRadius);
            padding: 30px;
            width: var(--containerWidth);
            max-width: 90vw;
            border: var(--presenceContainerBorder);
            margin-bottom: 3vh;
            min-height: 37.5vh;
            display: flex;
            flex-direction: column;
        }

        .qa-bot-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--modernLayoutSeperator);
        }

        .qa-bot-header-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .qa-bot-icon {
            width: 36px;
            height: 36px;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.3), rgba(255, 255, 255, 0.1));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid var(--buttonBorder);
        }

        .qa-bot-title {
            font-weight: 600;
            font-size: 20px;
            color: var(--textColor);
        }

        .qa-bot-subtitle {
            font-weight: 400;
            font-size: 15px;
            color: var(--textColorDarker);
            margin-top: 6px;
        }

        .qa-bot-header-right {
            display: flex;
            align-items: center;
        }

        .prompt-status-alert {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.6);
            font-weight: 400;
            padding: 6px 10px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.08);
            transition: all 0.3s ease;
        }

        .prompt-status-alert.loaded {
            color: rgba(76, 222, 128, 0.8);
            background: rgba(76, 222, 128, 0.08);
            border-color: rgba(76, 222, 128, 0.2);
        }

        .prompt-status-alert.error {
            color: rgba(248, 113, 113, 0.8);
            background: rgba(248, 113, 113, 0.08);
            border-color: rgba(248, 113, 113, 0.2);
        }

        .qa-reminder {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--buttonBorder);
            border-radius: 14px;
            padding: 10px;
            margin-bottom: 15px;
            font-size: 13px;
            color: var(--textColorDarker);
            line-height: 1.5;
        }

        .qa-reminder a {
            color: var(--buttonUrlColor);
            text-decoration: none;
            font-weight: 500;
        }

        .qa-reminder a:hover {
            color: var(--textColor);
        }

        /* Chat messages - MODIFIED: reduced to 30vh (3/4 of 40vh) with min-height 262px (3/4 of 350px) */
        .chat-messages {
            height: 30vh;
            min-height: 262px;
            overflow-y: auto;
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.02);
            border-radius: 14px;
            border: 1px solid var(--modernLayoutSeperator);
            flex-grow: 1;
        }

        .chat-message {
            margin-bottom: 18px;
            animation: fadeInUp 0.3s ease;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message-user {
            display: flex;
            justify-content: flex-end;
        }

        .message-bot {
            display: flex;
            justify-content: flex-start;
        }

        .message-content {
            max-width: 80%;
            padding: 12px 16px;
            border-radius: 18px;
            font-size: 15px;
            line-height: 1.5;
            word-wrap: break-word;
        }

        .message-user .message-content {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.1));
            border: 1px solid var(--buttonBorder);
            color: var(--textColor);
            border-bottom-right-radius: 6px;
        }

        .message-bot .message-content {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--modernLayoutSeperator);
            color: var(--textColor);
            border-bottom-left-radius: 6px;
        }

        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px 16px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--modernLayoutSeperator);
            border-radius: 18px;
            border-bottom-left-radius: 6px;
            max-width: 90px;
            margin-bottom: 18px;
        }

        .typing-dots {
            display: flex;
            gap: 5px;
        }

        .typing-dot {
            width: 7px;
            height: 7px;
            background: var(--textColorDarker);
            border-radius: 50%;
            animation: typingAnimation 1.4s infinite;
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typingAnimation {
            0%, 60%, 100% {
                opacity: 0.3;
                transform: scale(0.8);
            }
            30% {
                opacity: 1;
                transform: scale(1);
            }
        }

        .chat-input-container {
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .chat-input {
            flex: 1;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--buttonBorder);
            border-radius: 14px;
            padding: 14px 18px;
            color: var(--textColor);
            font-size: 15px;
            font-family: inherit;
            outline: none;
            transition: all 0.3s ease;
        }

        .chat-input:focus {
            border-color: var(--buttonBorderHover);
            background: rgba(255, 255, 255, 0.08);
        }

        .chat-input::placeholder {
            color: var(--textColorDarker);
        }

        .send-button {
            width: 48px;
            height: 48px;
            background: var(--buttonBackground);
            border: var(--buttonBorder);
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            outline: none;
        }

        .send-button:hover:not(:disabled) {
            background: var(--buttonBackgroundHover);
            border: var(--buttonBorderHover);
            transform: translateY(-1px);
        }

        .send-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .send-button svg {
            width: 20px;
            height: 20px;
            fill: var(--iconColor);
        }

        .message-count {
            font-size: 12px;
            color: var(--textColorDarker);
            text-align: center;
            margin-top: 10px;
        }

        /* Limit reached reminder */
        .limit-reminder {
            background: rgba(255, 193, 7, 0.1);
            border: 1px solid rgba(255, 193, 7, 0.3);
            border-radius: 14px;
            padding: 18px;
            margin-bottom: 18px;
            text-align: center;
            animation: fadeInScale 0.5s ease;
        }

        @keyframes fadeInScale {
            from {
                opacity: 0;
                transform: scale(0.95);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .limit-reminder-title {
            font-weight: 600;
            font-size: 15px;
            color: #ffc107;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .limit-reminder-text {
            font-size: 13px;
            color: var(--textColorDarker);
            line-height: 1.5;
            margin-bottom: 15px;
        }

        .refresh-button {
            background: linear-gradient(135deg, rgba(255, 193, 7, 0.3), rgba(255, 193, 7, 0.2));
            border: 1px solid rgba(255, 193, 7, 0.4);
            border-radius: 10px;
            padding: 10px 18px;
            font-size: 13px;
            font-weight: 500;
            color: #ffc107;
            cursor: pointer;
            transition: all 0.3s ease;
            outline: none;
            display: flex;
            align-items: center;
            gap: 8px;
            margin: 0 auto;
        }

        .refresh-button:hover {
            background: linear-gradient(135deg, rgba(255, 193, 7, 0.4), rgba(255, 193, 7, 0.3));
            border-color: rgba(255, 193, 7, 0.6);
            transform: translateY(-1px);
        }

        .refresh-button svg {
            width: 16px;
            height: 16px;
            fill: currentColor;
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .main-container, .qa-bot-container {
                width: 95vw;
                padding: 25px 15px;
                min-height: auto;
            }

            .username {
                font-size: 36px;
            }

            .subtitle {
                font-size: 18px;
            }

            /* Make social icons row stack on mobile */
            .social-icons-row {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }

            .social-controls {
                align-self: flex-end;
            }

            /* Chat messages - MODIFIED: reduced to 225px (3/4 of 300px) */
            .chat-messages {
                height: 225px;
                min-height: 225px;
            }

            .message-content {
                max-width: 90%;
                font-size: 14px;
            }

            .qa-bot-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 12px;
            }

            .qa-bot-header-right {
                align-self: flex-end;
            }

            /* Adjust particle orbits for mobile */
            @keyframes orbit1 {
                0% { transform: rotate(0deg) translateX(60px) rotate(0deg); }
                100% { transform: rotate(360deg) translateX(60px) rotate(-360deg); }
            }

            @keyframes orbit2 {
                0% { transform: rotate(0deg) translateX(70px) rotate(0deg); }
                100% { transform: rotate(-360deg) translateX(70px) rotate(360deg); }
            }

            @keyframes orbit3 {
                0% { transform: rotate(0deg) translateX(50px) rotate(0deg); }
                100% { transform: rotate(360deg) translateX(50px) rotate(-360deg); }
            }

            @keyframes orbit4 {
                0% { transform: rotate(0deg) translateX(80px) rotate(0deg); }
                100% { transform: rotate(-360deg) translateX(80px) rotate(360deg); }
            }

            /* Mobile particle animation classes also need updating */
            .particle.orbit1 { animation: orbit1 12s linear infinite; }
            .particle.orbit2 { animation: orbit2 16s linear infinite; }
            .particle.orbit3 { animation: orbit3 9.6s linear infinite; }
            .particle.orbit4 { animation: orbit4 20s linear infinite; }
        }

        /* Custom scrollbar */
        .chat-messages::-webkit-scrollbar {
            width: 8px;
        }

        .chat-messages::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 4px;
        }

        .chat-messages::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
        }

        .chat-messages::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.3);
        }
    </style>
</head>
<body>
    <!-- Image background (default) -->
    <div class="image-background"></div>
    
    <!-- Video background -->
    <video class="video-background" id="backgroundVideo" autoplay="" muted="" loop="">
        <source src="./background.mp4" type="video/mp4">
    </video>
    
    <!-- Background music -->
    <audio class="background-music" id="backgroundMusic" loop="">
        <source src="./background.mp3" type="audio/mpeg">
    </audio>
    
    <!-- Video overlay for better text readability -->
    <div class="video-overlay"></div>

    <!-- Click to enter overlay -->
    <div class="enter-overlay" id="enterOverlay">
        <div class="enter-text">click to enter</div>
    </div>

    <!-- Page content -->
    <div class="page-container">
        <!-- Main content -->
        <div class="main-container">
            <div class="profile-section">
                <div class="username-container" id="usernameContainer">
                    <h1 class="username">aeromechanic</h1>
                </div>
                <h3 class="subtitle">AGI + Meta + Fun â†’ Minecraft AI</h3>
            </div>

            <div class="discord-section">
                <h3 class="discord-description">join Minecraft AI discord server: <a href="https://discord.gg/RKjspnTBmb" target="_blank" rel="noopener noreferrer">discord.gg/RKjspnTBmb</a></h3>
                <br>
            </div>

            <!-- MODIFIED: New social icons row with controls -->
            <div class="social-icons-row">
                <div class="social-icons">
                    <a href="https://discord.gg/RKjspnTBmb" target="_blank" rel="noopener noreferrer" class="social-icon" title="Link to Discord">
                        <svg viewBox="0 0 24 24">
                            <path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"></path>
                        </svg>
                    </a>
                    <a href="https://github.com/aeromechanic000/minecraft-ai" target="_blank" rel="noopener noreferrer" class="social-icon" title="Link to GitHub">
                        <svg viewBox="0 0 24 24">
                            <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path>
                        </svg>
                    </a>
                    <a href="https://x.com/aeromechan71402" target="_blank" rel="noopener noreferrer" class="social-icon" title="Link to X (Twitter)">
                        <svg viewBox="0 0 24 24">
                            <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.80l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path>
                        </svg>
                    </a>
                    <a href="https://www.youtube.com/@minecraft_ai_videos" target="_blank" rel="noopener noreferrer" class="social-icon" title="Link to YouTube">
                        <svg viewBox="0 0 24 24">
                            <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"></path>
                        </svg>
                    </a>
                </div>
                <div class="social-controls">
                    <!-- <div class="view-counter">
                        <svg viewBox="0 0 24 24">
                            <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path>
                        </svg>
                        28k
                    </div> -->
                    <div class="music-control" id="musicControl" title="Toggle Music">
                        <svg id="playIcon" viewBox="0 0 24 24" style="display: block;">
                            <path d="M8 5v14l11-7z"></path>
                        </svg>
                        <svg id="pauseIcon" viewBox="0 0 24 24" style="display: none;">
                            <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"></path>
                        </svg>
                    </div>
                </div>
            </div>
        </div>

        <!-- QA Bot Container -->
        <div class="qa-bot-container">
            <div class="qa-bot-header">
                <div class="qa-bot-header-left">
                    <div class="qa-bot-icon">
                        <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"></path>
                        </svg>
                    </div>
                    <div>
                        <div class="qa-bot-title">AI Assistant</div>
                        <div class="qa-bot-subtitle">Ask me anything about aeromechanic or Minecraft AI</div>
                    </div>
                </div>
                <div class="qa-bot-header-right">
                    <div class="prompt-status-alert" id="promptStatusAlert">Loading...</div>
                </div>
            </div>

            <div class="qa-reminder">
                ðŸ’¡ <strong>Tip:</strong> Try aeromechanic's digital clone for more: 
                <a href="https://www.coze.com/store/agent/7515288462770110470?bot_id=true" target="_blank" rel="noopener noreferrer">International version</a> or 
                <a href="https://www.coze.cn/store/agent/7515359907202580480?bot_id=true" target="_blank" rel="noopener noreferrer">Chinese version</a>
            </div>

            <!-- Limit reached reminder (hidden by default) -->
            <div class="limit-reminder" id="limitReminder" style="display: none;">
                <div class="limit-reminder-title">
                    <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor">
                        <path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"></path>
                    </svg>
                    Message Limit Reached
                </div>
                <div class="limit-reminder-text">
                    You've reached the maximum of 100 messages. To continue chatting, please refresh the page. 
                    <strong>Note:</strong> This will clear all chat history.
                </div>
                <button class="refresh-button" id="refreshButton">
                    <svg viewBox="0 0 24 24">
                        <path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"></path>
                    </svg>
                    Refresh Page
                </button>
            </div>

            <div class="chat-messages" id="chatMessages">
                <div class="chat-message message-bot">
                    <div class="message-content">
                        Hi! I'm here to help answer questions about aeromechanic and the Minecraft AI project. What would you like to know?
                    </div>
                </div>
            </div>

            <div class="chat-input-container">
                <input type="text" class="chat-input" id="chatInput" placeholder="Ask me anything..." maxlength="500">
                <button class="send-button" id="sendButton">
                    <svg viewBox="0 0 24 24">
                        <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"></path>
                    </svg>
                </button>
            </div>

            <div class="message-count" id="messageCount">Messages: 1/100</div>
        </div>
    </div>

    <script>
        // Get elements
        const enterOverlay = document.getElementById('enterOverlay');
        const backgroundMusic = document.getElementById('backgroundMusic');
        const backgroundVideo = document.getElementById('backgroundVideo');
        const musicControl = document.getElementById('musicControl');
        const playIcon = document.getElementById('playIcon');
        const pauseIcon = document.getElementById('pauseIcon');
        const usernameContainer = document.getElementById('usernameContainer');

        // QA Bot elements
        const chatMessages = document.getElementById('chatMessages');
        const chatInput = document.getElementById('chatInput');
        const sendButton = document.getElementById('sendButton');
        const messageCount = document.getElementById('messageCount');
        const promptStatusAlert = document.getElementById('promptStatusAlert');
        const limitReminder = document.getElementById('limitReminder');
        const refreshButton = document.getElementById('refreshButton');

        let musicPlaying = false;
        let chatHistory = [];
        let messageCounter = 1; // Start with 1 for the initial bot message
        let botProfile = ''; // Will store the content from prompt.md

        // Load bot profile from prompt.md
        async function loadBotProfile() {
            try {
                const response = await fetch('./prompt.md');
                if (response.ok) {
                    botProfile = await response.text();
                    promptStatusAlert.textContent = 'Profile loaded';
                    promptStatusAlert.className = 'prompt-status-alert loaded';
                    console.log('Bot profile loaded successfully from prompt.md');
                } else {
                    throw new Error(`HTTP ${response.status}`);
                }
            } catch (error) {
                console.log('prompt.md not found or inaccessible, using default profile');
                botProfile = `You are a helpful assistant for aeromechanic's profile page. You should answer questions about aeromechanic, Minecraft AI projects, programming, and general topics. Be helpful, friendly, and concise.

aeromechanic is a developer working on Minecraft AI projects, focused on AGI (Artificial General Intelligence), Meta technologies, and creating fun AI experiences in Minecraft. They have a Discord server for the Minecraft AI community and digital clones available for more detailed conversations.`;
                
                promptStatusAlert.textContent = 'Default profile';
                promptStatusAlert.className = 'prompt-status-alert error';
            }
        }

        // Create fast-moving particles around the username
        function createFlyingParticles() {
            const container = usernameContainer;
            const containerRect = container.getBoundingClientRect();
            
            // Clear existing particles
            const existingParticles = container.querySelectorAll('.particle');
            existingParticles.forEach(particle => particle.remove());
            
            // Animation types for variety
            const animationTypes = ['orbit1', 'orbit2', 'orbit3', 'orbit4', 'orbit5', 'figure8', 'spiral', 'zigzag'];
            const sizeClasses = ['small', 'medium', 'large'];
            
            // Create multiple particles with different flight patterns
            for (let i = 0; i < 20; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                
                // Add random size
                const sizeClass = sizeClasses[Math.floor(Math.random() * sizeClasses.length)];
                particle.classList.add(sizeClass);
                
                // Add random animation
                const animationType = animationTypes[Math.floor(Math.random() * animationTypes.length)];
                particle.classList.add(animationType);
                
                // Position particles to the left of center of the text - MODIFIED
                const centerX = containerRect.width / 4; // Move to left quarter instead of center
                const centerY = containerRect.height / 2;
                
                particle.style.left = centerX + 'px';
                particle.style.top = centerY + 'px';
                
                // Random animation delay for staggered effect
                particle.style.animationDelay = (Math.random() * 2) + 's';
                
                container.appendChild(particle);
            }
        }

        // QA Bot Functions
        function addMessage(content, isUser = false) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `chat-message ${isUser ? 'message-user' : 'message-bot'}`;
            
            const contentDiv = document.createElement('div');
            contentDiv.className = 'message-content';
            contentDiv.textContent = content;
            
            messageDiv.appendChild(contentDiv);
            chatMessages.appendChild(messageDiv);
            
            // Scroll to bottom
            chatMessages.scrollTop = chatMessages.scrollHeight;
            
            // Update message counter and display
            messageCounter++;
            updateMessageCount();
            
            // Add to chat history for context
            chatHistory.push({
                role: isUser ? 'user' : 'assistant',
                content: content
            });
            
            // Limit chat history to last 20 messages to avoid too long prompts
            if (chatHistory.length > 20) {
                chatHistory = chatHistory.slice(-20);
            }
        }

        function showTypingIndicator() {
            const typingDiv = document.createElement('div');
            typingDiv.className = 'typing-indicator';
            typingDiv.id = 'typingIndicator';
            
            const dotsDiv = document.createElement('div');
            dotsDiv.className = 'typing-dots';
            
            for (let i = 0; i < 3; i++) {
                const dot = document.createElement('div');
                dot.className = 'typing-dot';
                dotsDiv.appendChild(dot);
            }
            
            typingDiv.appendChild(dotsDiv);
            chatMessages.appendChild(typingDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function hideTypingIndicator() {
            const typingIndicator = document.getElementById('typingIndicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }

        function updateMessageCount() {
            messageCount.textContent = `Messages: ${messageCounter}/100`;
            
            if (messageCounter >= 100) {
                // Show limit reminder
                limitReminder.style.display = 'block';
                
                // Disable input
                chatInput.disabled = true;
                sendButton.disabled = true;
                chatInput.placeholder = "Message limit reached. Please refresh to continue.";
                
                // Scroll to show the reminder
                limitReminder.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        }

        function refreshPage() {
            // Show confirmation dialog
            if (confirm('Are you sure you want to refresh the page? This will clear all chat history and reset the message counter.')) {
                window.location.reload();
            }
        }

        async function sendMessage() {
            const message = chatInput.value.trim();
            if (!message || messageCounter >= 100) return;
            
            // Add user message
            addMessage(message, true);
            chatInput.value = '';
            
            // Disable input while processing
            chatInput.disabled = true;
            sendButton.disabled = true;
            
            // Show typing indicator
            showTypingIndicator();
            
            try {
                // Prepare context for the AI
                const context = chatHistory.map(msg => 
                    `${msg.role === 'user' ? 'User' : 'Assistant'}: ${msg.content}`
                ).join('\n');
                
                const prompt = `${botProfile}

${context ? `Context from previous conversation:\n${context}\n` : ''}
Current question: ${message}

Please provide a helpful response:`;
                
                // Call Pollinations AI
                const response = await fetch(`https://text.pollinations.ai/${encodeURIComponent(prompt)}`);
                const textResponse = await response.text();
                
                // Hide typing indicator
                hideTypingIndicator();
                
                // Add bot response
                addMessage(textResponse);
                
            } catch (error) {
                console.error('Error calling Pollinations AI:', error);
                hideTypingIndicator();
                addMessage('Sorry, I encountered an error. Please try again later.');
            }
            
            // Re-enable input only if limit not reached
            if (messageCounter < 100) {
                chatInput.disabled = false;
                sendButton.disabled = false;
                chatInput.focus();
            }
        }

        // Event listeners for QA bot
        sendButton.addEventListener('click', sendMessage);
        chatInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        });

        // Refresh button event listener
        refreshButton.addEventListener('click', refreshPage);

        // Video loading functionality
        backgroundVideo.addEventListener('loadeddata', function() {
            backgroundVideo.classList.add('loaded');
        });

        backgroundVideo.addEventListener('error', function() {
            console.log('Video failed to load, using image background');
        });

        // Click to enter functionality
        function hideOverlay() {
            enterOverlay.classList.add('hidden');
            if (!musicPlaying) {
                backgroundMusic.play().then(() => {
                    musicPlaying = true;
                    playIcon.style.display = 'none';
                    pauseIcon.style.display = 'block';
                }).catch(error => {
                    console.log('Music autoplay failed:', error);
                });
            }
        }

        enterOverlay.addEventListener('click', hideOverlay);
        document.addEventListener('keydown', hideOverlay);

        // Music control functionality
        musicControl.addEventListener('click', function() {
            if (musicPlaying) {
                backgroundMusic.pause();
                musicPlaying = false;
                playIcon.style.display = 'block';
                pauseIcon.style.display = 'none';
            } else {
                backgroundMusic.play().then(() => {
                    musicPlaying = true;
                    playIcon.style.display = 'none';
                    pauseIcon.style.display = 'block';
                }).catch(error => {
                    console.log('Music play failed:', error);
                });
            }
        });

        // Set initial music volume
        backgroundMusic.volume = 0.5;

        // Initialize everything when page loads
        window.addEventListener('load', async function() {
            // Load bot profile first
            await loadBotProfile();
            
            createFlyingParticles();
            setInterval(createFlyingParticles, 10000);
            
            // Focus on chat input
            chatInput.focus();
        });

        // Handle window resize to reposition particles
        window.addEventListener('resize', function() {
            createFlyingParticles();
        });
    </script>





</body></html>